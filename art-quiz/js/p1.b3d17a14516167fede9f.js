(()=>{var e={367:()=>{const e=document.querySelector(".main-screen"),t=document.querySelector(".question-author-text"),s=document.querySelector(".artists"),o=document.querySelector(".pictures"),a=document.querySelector(".categories"),n=document.querySelector(".question"),c=document.querySelector(".categories__items"),r=document.querySelector(".question-container");let i,d,l,m,u,_,g=0,p=0,L=[];function v(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function h(e){e.sort((()=>Math.random()-.5))}function y(){"author"===_?function(){r.innerHTML="";const e=document.createElement("div");e.classList.add("question-author__wrapper"),r.append(e),t.textContent="Кто автор данной картины?";let s=d[m][g].imageNum;const o=document.createElement("img");o.src=`https://raw.githubusercontent.com/ElenaPogodaeva/image-data/master/img/${s}.jpg`,o.alt="picture",e.append(o),l=d[m][g].author;const a=new Set;for(a.add(l);a.size<4;){let e=v(0,i.length-1);a.add(i[e].author)}const n=Array.from(a);h(n);const c=document.createElement("ul");c.classList.add("question-author__answers","answers"),n.map((e=>{const t=document.createElement("li");t.classList.add("answers__item"),t.textContent=e,t.setAttribute("data-answer",e),c.append(t)})),r.append(c),c.addEventListener("click",(e=>{e.target.classList.contains("answers__item")&&q(e)}))}():function(){r.innerHTML="";const e=document.createElement("div");e.classList.add("picture-container"),r.append(e);let s=d[m][g].author;t.textContent=`Какую картину нарисовал ${s}?`,l=d[m][g].imageNum;const o=new Set;for(o.add(l);o.size<4;){let e=v(0,i.length-1);o.add(i[e].imageNum)}const a=Array.from(o);h(a),a.map(((t,s)=>{const o=document.createElement("img");o.classList.add("question-picture__item"),o.src=`https://raw.githubusercontent.com/ElenaPogodaeva/image-data/master/img/${t}.jpg`,o.setAttribute("data-answer",t),o.alt=`picture${s+1}`,e.append(o)})),e.addEventListener("click",(e=>{e.target.classList.contains("question-picture__item")&&q(e)}))}(),console.log(L),f()}async function E(){try{_=this.id;const t="./assets/data/data.json",s=await async function(e){const t=await fetch(e);return await t.json()}(t);i="author"===_?s.slice(0,120):s.slice(120),console.log(i),u=10,d=function(e,t){const s=[];for(let t=0;t<e.length;t+=10)s.push(e.slice(t,t+10));return s}(i),function(e){let t="";const s=["Portrait","Landscape","Still life","Graphic","Antique","Avant-garde","Renaissance","Surrealism","Kitsch","Minimalism","Interior","Industrial"];e.map(((e,o)=>{const a=document.createElement("img");a.src=`https://raw.githubusercontent.com/ElenaPogodaeva/image-data/master/img/${e[0].imageNum}.jpg`,t+=`<div class="categories__item category-item" id = "${o}">\n     <div class="category-item__header">\n       <div class="category-item__title">${s[o]}</div>\n       <div class="category-item__total"></div>\n     </div>\n     <div class="category-item__img">\n       <img src = ${a.src}>     \n     </div>\n     <button class="category-item__score" id = "${o}">Score</button>\n   </div>`})),c.innerHTML=t}(d),e.classList.add("hide"),a.classList.remove("hide")}catch(e){alert(e)}}function f(){const e=document.createElement("div");e.classList.add("progress-bar"),"picture"===_?document.querySelector(".picture-container").append(e):document.querySelector(".question-author__wrapper").append(e);let t="";for(let e=0;e<10;e++)t+="<div class = 'progress-bar__item'></div>";e.innerHTML=t;const s=document.querySelectorAll(".progress-bar__item");console.log(s);for(let e=0;e<g;e++)!0===L[e]?(s[e].classList.add("progress-bar__item_correct"),console.log(s[e])):s[e].classList.add("progress-bar__item_wrong")}function q(e){!function(){const e=document.querySelector(".modal__content"),t=d[m][g].imageNum,s=d[m][g].name,o=d[m][g].author,a=d[m][g].year;e.innerHTML="";const n=document.createElement("div");n.classList.add("modal__answer");const c=document.createElement("img");c.classList.add("modal__img"),c.src=`https://raw.githubusercontent.com/ElenaPogodaeva/image-data/master/img/${t}.jpg`;const r=document.createElement("div");r.classList.add("modal__title","text"),r.textContent=`${s}`;const i=document.createElement("div");i.classList.add("modal__author","text"),i.textContent=`${o}`;const l=document.createElement("div");l.classList.add("modal__year","text"),l.textContent=`${a}`;const u=document.createElement("button");u.classList.add("button","button-next"),u.textContent="Next",e.append(n),e.append(c),e.append(r),e.append(i),e.append(l),e.append(u),modal.classList.add("open"),u.addEventListener("click",x)}();const t=document.querySelector(".modal__answer");document.querySelectorAll(".progress-bar__item"),e.target.dataset.answer===l?(L[g]=!0,t.classList.add("correct"),p++):(L[g]=!1,t.classList.add("wrong")),console.log(g),console.log(p)}function x(){if(g++,g<u)modal.classList.remove("open"),y(),console.log(L);else{modal.classList.remove("open"),function(){const t=document.querySelector(".modal__content");t.innerHTML="";const s=document.createElement("div");s.classList.add("modal__cong","text"),s.textContent="Congratulations!";const o=document.createElement("div");o.classList.add("modal__result","text"),o.textContent=`${p} / ${u}`;const c=document.createElement("div");c.classList.add("modal__good");const r=document.createElement("div");r.classList.add("modal__wrapper");const i=document.createElement("button");i.classList.add("button","button-next-quiz"),i.textContent="Next Quiz";const d=document.createElement("button");d.classList.add("button","modal-button-home"),d.textContent="Home",t.append(s),t.append(o),t.append(c),t.append(r),r.append(i),r.append(d),modal.classList.add("open"),i.addEventListener("click",(()=>{modal.classList.remove("open"),n.classList.add("hide"),a.classList.remove("hide")})),d.addEventListener("click",(()=>{modal.classList.remove("open"),n.classList.add("hide"),e.classList.remove("hide")}))}();const t=document.querySelector(`.category-item[id="${m}"]`);document.querySelector(`.category-item[id="${m}"] .category-item__total`).textContent=p,t.classList.add("category-item-played")}}c.addEventListener("click",(e=>{e.target.closest(".category-item")&&!e.target.closest(".category-item__score")&&(m=e.target.closest(".category-item").id,p=0,g=0,y(),f(),a.classList.add("hide"),n.classList.remove("hide"))})),c.addEventListener("click",(e=>{e.target.closest(".category-item__score")&&(m=e.target.closest(".category-item__score").id,console.log(L),function(){const e=document.querySelector(".score__items");let t="";d[m].forEach(((s,o)=>{t=`<div class="score__item score-item" id = "${o}">\n     <div class="score-item__header">\n       <div class="score-item__title">01</div>\n     </div>\n     <div class="score-item__img">\n       <img src = https://raw.githubusercontent.com/ElenaPogodaeva/image-data/master/img/${s.imageNum}.jpg>     \n     </div>\n     <div class="score-item__info">\n       <p class="score-item__text text">${s.name}</p>\n       <p class="score-item__text text">${s.author}</p>\n       <p class="score-item__text text">${s.year}</p>\n     </div>\n    </div>`,e.insertAdjacentHTML("afterbegin",t);const a=document.querySelector(".score__item");!0===L[o]&&a.classList.add("score-item-correct")})),Array.from(document.querySelectorAll(".score__item")).forEach(((e,t)=>{e.addEventListener("click",(()=>{document.querySelectorAll(".score-item__info")[t].classList.toggle("score-item__info_show")}))}))}())})),document.querySelector(".categories__button").addEventListener("click",(()=>{a.classList.add("hide"),e.classList.remove("hide")})),document.querySelector(".question__button-home").addEventListener("click",(()=>{n.classList.add("hide"),e.classList.remove("hide")})),document.querySelector(".question__button-categories").addEventListener("click",(()=>{n.classList.add("hide"),a.classList.remove("hide")}));const S=document.querySelector(".score");c.addEventListener("click",(e=>{e.target.closest(".category-item__score")&&(a.classList.add("hide"),S.classList.remove("hide"))})),document.querySelector(".score__home").addEventListener("click",(()=>{S.classList.add("hide"),e.classList.remove("hide")})),document.querySelector(".score__categories").addEventListener("click",(()=>{S.classList.add("hide"),a.classList.remove("hide")})),s.addEventListener("click",E),o.addEventListener("click",E)}},t={};function s(o){var a=t[o];if(void 0!==a)return a.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,s),n.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";s(367)})()})();