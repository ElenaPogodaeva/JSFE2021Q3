(()=>{var e={812:()=>{const e=document.querySelector(".settings-icon"),t=document.querySelector(".settings"),n=document.querySelector(".time"),o=document.querySelector(".date"),c=document.querySelector(".greeting-container"),r=document.querySelector(".player"),a=document.querySelector(".weather"),s=document.querySelector(".change-quote"),i=document.querySelector(".quote-block"),u=document.querySelector('input[id="show-time"]'),d=document.querySelector('input[id="show-date"]'),l=document.querySelector('input[id="show-greeting"]'),m=document.querySelector('input[id="show-audioplayer"]'),h=document.querySelector('input[id="show-weather"]'),v=document.querySelector('input[id="show-quotes"]');e.addEventListener("click",(function(){t.classList.toggle("settings-active")})),u.addEventListener("change",(()=>{u.checked?n.classList.remove("hidden"):n.classList.add("hidden")})),d.addEventListener("change",(()=>{d.checked?o.classList.remove("hidden"):o.classList.add("hidden")})),l.addEventListener("change",(()=>{l.checked?c.classList.remove("hidden"):c.classList.add("hidden")})),m.addEventListener("change",(()=>{m.checked?r.classList.remove("hidden"):r.classList.add("hidden")})),h.addEventListener("change",(()=>{h.checked?a.classList.remove("hidden"):a.classList.add("hidden")})),v.addEventListener("change",(()=>{v.checked?(s.classList.remove("hidden"),i.classList.remove("hidden")):(s.classList.add("hidden"),i.classList.add("hidden"))}))}},t={};function n(o){var c=t[o];if(void 0!==c)return c.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}(()=>{"use strict";n(812);const e=[{title:"Aqua Caelestis",src:"./assets/sounds/Aqua Caelestis.mp3",duration:"00:39"},{title:"River Flows In You",src:"./assets/sounds/River Flows In You.mp3",duration:"01:37"},{title:"Summer Wind",src:"./assets/sounds/Summer Wind.mp3",duration:"01:50"},{title:"Ennio Morricone",src:"./assets/sounds/Ennio Morricone.mp3",duration:"01:37"}];!function(){const e=document.querySelector(".time"),t=document.querySelector(".date"),n=document.querySelector(".greeting"),o=document.querySelectorAll("input[name=lang]"),c=document.querySelector(".name");c.placeholder="Enter name";const r=[{en:"Good night",ru:"Доброй ночи"},{en:"Good morning",ru:"Доброе утро"},{en:"Good afternoon",ru:"Добрый день"},{en:"Good evening",ru:"Добрый вечер"}];function a(e="en"){const n=(new Date).toLocaleDateString(e,{weekday:"long",month:"long",day:"numeric"});t.textContent=n}function s(e="en"){const t=(new Date).getHours(),o=Math.floor(t/6),c=r[o][e];n.textContent=c}function i(){const e=document.querySelector("input[name=lang]:checked").value;c.placeholder="ru"===e?"Введите имя":"Enter name",a(e),s(e)}new Date,function t(n="en"){const o=(new Date).toLocaleTimeString();e.textContent=o,setTimeout(t,1e3)}(),a(),s(),o.forEach((e=>e.addEventListener("change",i))),window.addEventListener("beforeunload",(function(){const e=document.querySelector(".name");localStorage.setItem("name",e.value)})),window.addEventListener("load",(function(){const e=document.querySelector(".name");localStorage.getItem("name")&&(e.value=localStorage.getItem("name"))}))}(),function(){const e=document.querySelector("body"),t=document.querySelector(".slide-next"),n=document.querySelector(".slide-prev"),o=document.querySelectorAll("input[name=photo-source]");let c="GitHub";const r=document.querySelector(".settings-input");let a,s="",i=[];function u(){const e=(new Date).getHours();return["night","morning","afternoon","evening"][Math.floor(e/6)]}function d(t){const n=new Image;n.src=t,n.onload=()=>{e.style.backgroundImage=`url(${n.src})`}}function l(){d(`https://raw.githubusercontent.com/ElenaPogodaeva/stage1-tasks/assets/images/${u()}/${a.toString().padStart(2,"0")}.jpg`),console.log(a)}async function m(e){""===e&&(e=u());const t=`https://api.unsplash.com/photos/random?query=${e}&client_id=oVE-N1MJGgo0-9JrJ21Qdv0m__vGtwbV0OvlfUutJMg`,n=await fetch(t),o=await n.json();console.log(t),d(o.urls.regular),console.log(o.urls.regular)}async function h(){0===i.length&&(i=await async function(e){let t;if(""===e){let n;switch(e=u()){case"night":n="72157720062587146";break;case"morning":n="72157720069530982";break;case"afternoon":n="72157720111881805";break;case"evening":n="72157720111880160"}t=`https://www.flickr.com/services/rest/?method=flickr.galleries.getPhotos&api_key=76f2ad1b1c2bc03737c9a268bb694c82&gallery_id=${n}&extras=url_h&format=json&nojsoncallback=1`}else t=`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=76f2ad1b1c2bc03737c9a268bb694c82&tags=${e}&extras=url_h&format=json&nojsoncallback=1`,console.log(t);const n=await fetch(t),o=await n.json();return console.log(o.photos.photo.filter((e=>e.url_h))),o.photos.photo.filter((e=>e.url_h))}(s));const e=Math.floor(Math.random()*i.length);console.log(e),d(i[e].url_h),console.log(i[e].url_h)}function v(){const e=document.querySelector("input[name=photo-source]:checked");c=e.value,console.log(c)}a=Math.floor(20*Math.random())+1,window.addEventListener("load",l),o.forEach((e=>e.addEventListener("click",v))),r.addEventListener("change",(()=>{s=r.value,i=[],console.log(s)})),t.addEventListener("click",(function(){"GitHub"===c?(a<20?a++:a=1,l()):"Unsplash API"===c?m(s):"Flickr API"===c&&h()})),n.addEventListener("click",(function(){"GitHub"===c?(a>1?a--:a=20,l()):"Unsplash API"===c?m(s):"Flickr API"===c&&h()}))}(),function(){const e=document.querySelector(".weather-icon"),t=document.querySelector(".temperature"),n=document.querySelector(".weather-description"),o=document.querySelector(".wind"),c=document.querySelector(".humidity"),r=document.querySelectorAll("input[name=lang]"),a=document.querySelector(".city"),s=document.querySelector(".weather-error"),i=[{en:"Wind speed",ru:"Скорость ветра"},{en:"Humidity",ru:"Влажность"},{en:"m/s",ru:"м/с"}];async function u(r="en"){const u=`https://api.openweathermap.org/data/2.5/weather?q=${a.value}&lang=${r}&appid=19b49def7b99621ed575529c92f7ba37&units=metric`,l=await fetch(u),m=await l.json();"404"===m.cod?(s.textContent="Error! City not found",d()):"400"===m.cod?(s.textContent="Error! Enter the city",d()):(s.textContent="",e.className="weather-icon owf",e.classList.add(`owf-${m.weather[0].id}`),t.textContent=`${m.main.temp.toFixed(0)}°C`,n.textContent=m.weather[0].description,o.textContent=`${i[0][r]} ${m.wind.speed.toFixed(0)} ${i[2][r]}`,c.textContent=`${i[1][r]} ${m.main.humidity.toFixed(0)}%`)}function d(){e.className="",t.textContent="",n.textContent="",o.textContent="",c.textContent=""}function l(){u(document.querySelector("input[name=lang]:checked").value)}a.value="Минск",a.textContent="Минск",console.log(s),document.addEventListener("DOMContentLoaded",u),a.addEventListener("change",(function(){u()})),r.forEach((e=>e.addEventListener("click",l))),window.addEventListener("beforeunload",(function(){localStorage.setItem("city",a.value)})),window.addEventListener("load",(function(){localStorage.getItem("city")&&(a.value=localStorage.getItem("city"),u())}))}(),function(){const e=document.querySelector(".quote"),t=document.querySelector(".author"),n=document.querySelector(".change-quote"),o=document.querySelectorAll("input[name=lang]");async function c(n="en"){const o=`./assets/data/data_${n}.json`,c=await fetch(o),r=await c.json(),a=(s=r.length,Math.floor(Math.random()*s));var s;e.textContent=`"${r[a].text}"`,t.textContent=`${r[a].author}`,console.log(a),console.log(`${r[a].text}`),console.log(`${r[a].author}`)}function r(){c(document.querySelector("input[name=lang]:checked").value)}c(),n.addEventListener("click",r),o.forEach((e=>e.addEventListener("click",r)))}(),function(){const t=new Audio,n=document.querySelector(".play"),o=document.querySelector(".play-next"),c=document.querySelector(".play-prev"),r=document.querySelector(".volume"),a=document.querySelector(".play-list"),s=document.querySelector(".progress"),i=document.querySelector(".progress-filled"),u=document.querySelector(".current-time"),d=document.querySelector(".duration"),l=document.querySelector(".volume-progress"),m=document.querySelector(".player-title");e.forEach((e=>{const t=document.createElement("li");t.classList.add("play-item"),t.textContent=e.title,a.append(t)}));let h=0,v=!1;const g=document.querySelectorAll(".play-item");function f(){t.src=e[h].src,t.currentTime=0,t.play(),v=!0,n.classList.add("pause"),g.forEach((e=>{e.classList.contains("item-active")&&e.classList.remove("item-active")})),g[h].classList.add("item-active"),d.textContent=e[h].duration,m.textContent=e[h].title}function y(){v?(n.classList.add("pause"),g[h].classList.add("item-active")):(n.classList.remove("pause"),g[h].classList.remove("item-active"))}function p(){h<e.length-1?h++:h=0,f()}function L(e){const n=e.offsetX/s.offsetWidth*t.duration;t.currentTime=n}function S(){const e=l.value;l.style.background=`linear-gradient(to right, #710707 0%, #710707 ${100*e}%, #c4c4c4 ${100*e}%, #c4c4c4 100%)`,console.log(l.value)}m.textContent=e[0].title,u.textContent="00:00",d.textContent=e[0].duration,t.src=e[0].src,t.currentTime=0,g.forEach(((n,o)=>n.addEventListener("click",(()=>{h=o,g.forEach(((e,n)=>{e.classList.contains("item-active")&&n!==o&&(e.classList.remove("item-active"),t.pause())})),t.src=e[h].src,t.currentTime=0,d.textContent=e[h].duration,m.textContent=e[h].title,n.classList.contains("item-active")?(v=!1,t.pause()):(v=!0,t.play()),y()})))),n.addEventListener("click",(function(){v?(t.pause(),v=!1):(t.play(),v=!0),y()})),o.addEventListener("click",p),c.addEventListener("click",(function(){h>0?h--:h=e.length-1,f()})),r.addEventListener("click",(function(){t.muted?(t.muted=!1,l.value=.5,t.volume=l.value,S(),console.log(t.volume)):(t.muted=!0,l.value=0,S())}));let q=!1;s.addEventListener("click",L),s.addEventListener("mousemove",(e=>q&&L(e))),s.addEventListener("mousedown",(()=>q=!0)),s.addEventListener("mouseup",(()=>q=!1)),t.addEventListener("timeupdate",(function(){const e=Math.floor(t.currentTime)/Math.floor(t.duration)*100;i.style.width=`${e}%`,u.textContent=function(e){e=Math.floor(e);var t=Math.floor(e/60),n=Math.floor(e-60*t),o=t,c=n;return t<10&&(o="0"+t),n<10&&(c="0"+n),o+":"+c}(t.currentTime)})),l.addEventListener("input",(function(){const e=l.value;t.volume=e,0===t.volume?t.muted=!0:t.muted=!1,S()})),t.addEventListener("volumechange",(function(){t.muted||0===t.volume?r.classList.add("mute"):r.classList.remove("mute")})),t.addEventListener("ended",p)}()})()})();