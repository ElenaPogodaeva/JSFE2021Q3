(()=>{var e={812:()=>{const e=document.querySelector(".settings-icon"),t=document.querySelector(".settings"),n=document.querySelector(".time"),o=(document.querySelector(".date"),document.querySelector(".greeting"),document.querySelector('input[id="show-date"]'));e.addEventListener("click",(function(){t.classList.toggle("settings-active")})),o.addEventListener("change",(()=>{o.checked?n.classList.remove("hidden"):n.classList.add("hidden")}))}},t={};function n(o){var c=t[o];if(void 0!==c)return c.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}(()=>{"use strict";n(812);const e=[{title:"Aqua Caelestis",src:"./assets/sounds/Aqua Caelestis.mp3",duration:"00:58"},{title:"River Flows In You",src:"./assets/sounds/River Flows In You.mp3",duration:"03:50"},{title:"Summer Wind",src:"./assets/sounds/Summer Wind.mp3",duration:"01:50"},{title:"Ennio Morricone",src:"./assets/sounds/Ennio Morricone.mp3",duration:"01:37"}];!function(){const e=document.querySelector(".time"),t=document.querySelector(".date"),n=document.querySelector(".greeting"),o=[{en:"Good night",ru:"Доброй ночи"},{en:"Good morning",ru:"Доброе утро"},{en:"Good afternoon",ru:"Добрый день"},{en:"Good evening",ru:"Добрый вечер"}];!function c(r="en"){const a=(new Date).toLocaleTimeString();e.textContent=a,function(e="ru"){const n=(new Date).toLocaleDateString(e,{weekday:"long",month:"long",day:"numeric"});t.textContent=n}(r),function(e="ru"){const t=(new Date).getHours(),c=Math.floor(t/6),r=o[c][e];n.textContent=r}(r),setTimeout(c,1e3)}(),window.addEventListener("beforeunload",(function(){const e=document.querySelector(".name");localStorage.setItem("name",e.value)})),window.addEventListener("load",(function(){const e=document.querySelector(".name");localStorage.getItem("name")&&(e.value=localStorage.getItem("name"))}))}(),function(){const e=document.querySelector("body"),t=document.querySelector(".slide-next"),n=document.querySelector(".slide-prev"),o=document.querySelectorAll("input[name=photo-source]");let c="GitHub";const r=document.querySelector(".settings-input");let a,s="",i=[];function u(){const e=(new Date).getHours();return["night","morning","afternoon","evening"][Math.floor(e/6)]}function l(t){const n=new Image;n.src=t,n.onload=()=>{e.style.backgroundImage=`url(${n.src})`}}function d(){l(`https://raw.githubusercontent.com/ElenaPogodaeva/stage1-tasks/assets/images/${u()}/${a.toString().padStart(2,"0")}.jpg`),console.log(a)}async function m(e){""===e&&(e=u());const t=`https://api.unsplash.com/photos/random?query=${e}&client_id=oVE-N1MJGgo0-9JrJ21Qdv0m__vGtwbV0OvlfUutJMg`,n=await fetch(t),o=await n.json();console.log(t),l(o.urls.regular),console.log(o.urls.regular)}function f(){const e=document.querySelector("input[name=photo-source]:checked");c=e.value,console.log(c)}a=Math.floor(20*Math.random())+1,window.addEventListener("load",d),o.forEach((e=>e.addEventListener("click",f))),r.addEventListener("change",(()=>{s=r.value,i=[],console.log(s)})),t.addEventListener("click",(function(){"GitHub"===c?(a<20?a++:a=1,d()):"Unsplash API"===c?m(s):"Flickr API"===c&&async function(){0===i.length&&(i=await async function(e){let t;if(""===e){let n;switch(e=u()){case"night":n="72157720062587146";break;case"morning":n="72157720069530982";break;case"afternoon":n="72157720111881805";break;case"evening":n="72157720111880160"}t=`https://www.flickr.com/services/rest/?method=flickr.galleries.getPhotos&api_key=76f2ad1b1c2bc03737c9a268bb694c82&gallery_id=${n}&extras=url_h&format=json&nojsoncallback=1`}else t=`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=76f2ad1b1c2bc03737c9a268bb694c82&tags=${e}&extras=url_h&format=json&nojsoncallback=1`,console.log(t);const n=await fetch(t),o=await n.json();return console.log(o.photos.photo.filter((e=>e.url_h))),o.photos.photo.filter((e=>e.url_h))}(s));const e=Math.floor(Math.random()*i.length);console.log(e),l(i[e].url_h),console.log(i[e].url_h)}()})),n.addEventListener("click",(function(){"GitHub"===c?(a>1?a--:a=20,d()):"Unsplash API"===c&&m(s)}))}(),function(){const e=document.querySelector(".weather-icon"),t=document.querySelector(".temperature"),n=document.querySelector(".weather-description"),o=document.querySelector(".wind"),c=document.querySelector(".humidity"),r=document.querySelectorAll("input[name=lang]"),a=document.querySelector(".city"),s=document.querySelector(".weather-error"),i=[{en:"Wind speed",ru:"Скорость ветра"},{en:"Humidity",ru:"Влажность"},{en:"m/s",ru:"м/с"}];async function u(r="ru"){const u=`https://api.openweathermap.org/data/2.5/weather?q=${a.value}&lang=${r}&appid=19b49def7b99621ed575529c92f7ba37&units=metric`,d=await fetch(u),m=await d.json();"404"===m.cod?(s.textContent="Error! City not found",l()):"400"===m.cod?(s.textContent="Error! Enter the city",l()):(s.textContent="",e.className="weather-icon owf",e.classList.add(`owf-${m.weather[0].id}`),t.textContent=`${m.main.temp.toFixed(0)}°C`,n.textContent=m.weather[0].description,o.textContent=`${i[0][r]} ${m.wind.speed.toFixed(0)} ${i[2][r]}`,c.textContent=`${i[1][r]} ${m.main.humidity.toFixed(0)}%`)}function l(){e.className="",t.textContent="",n.textContent="",o.textContent="",c.textContent=""}function d(){const e=document.querySelector("input[name=lang]:checked").value;u(e),console.log(e)}a.value="Минск",a.textContent="Минск",console.log(s),document.addEventListener("DOMContentLoaded",u),a.addEventListener("change",(function(){u()})),r.forEach((e=>e.addEventListener("click",d))),window.addEventListener("beforeunload",(function(){localStorage.setItem("city",a.value)})),window.addEventListener("load",(function(){localStorage.getItem("city")&&(a.value=localStorage.getItem("city"),u())}))}(),function(){const e=document.querySelector(".quote"),t=document.querySelector(".author"),n=document.querySelector(".change-quote");async function o(){const n=Math.floor(3*Math.random()),o=await fetch("./assets/data/data.json"),c=await o.json();e.textContent=`"${c[n].text}"`,t.textContent=`${c[n].author}`,console.log(n),console.log(`${c[n].text}`),console.log(`${c[n].author}`)}o(),n.addEventListener("click",(function(){o()}))}(),function(){const t=new Audio,n=document.querySelector(".play"),o=document.querySelector(".play-next"),c=document.querySelector(".play-prev"),r=document.querySelector(".volume"),a=document.querySelector(".play-list"),s=document.querySelector(".progress"),i=document.querySelector(".progress-filled"),u=document.querySelector(".current-time"),l=document.querySelector(".duration"),d=document.querySelector(".volume-progress"),m=document.querySelector(".player-title");e.forEach((e=>{const t=document.createElement("li");t.classList.add("play-item"),t.textContent=e.title,a.append(t)}));let f=0,g=!1;const h=document.querySelectorAll(".play-item");function v(){t.src=e[f].src,t.currentTime=0,t.play(),g=!0,n.classList.add("pause"),h.forEach((e=>{e.classList.contains("item-active")&&e.classList.remove("item-active")})),h[f].classList.add("item-active"),l.textContent=e[f].duration,m.textContent=e[f].title}function y(){g?(n.classList.add("pause"),h[f].classList.add("item-active")):(n.classList.remove("pause"),h[f].classList.remove("item-active"))}function p(){f<e.length-1?f++:f=0,v()}function S(e){const n=e.offsetX/s.offsetWidth*t.duration;t.currentTime=n}function w(){const e=d.value;d.style.background=`linear-gradient(to right, #710707 0%, #710707 ${100*e}%, #c4c4c4 ${100*e}%, #c4c4c4 100%)`,console.log(d.value)}m.textContent=e[0].title,u.textContent="00:00",l.textContent=e[0].duration,t.src=e[0].src,t.currentTime=0,h.forEach(((n,o)=>n.addEventListener("click",(()=>{f=o,h.forEach(((e,n)=>{e.classList.contains("item-active")&&n!==o&&(e.classList.remove("item-active"),t.pause())})),t.src=e[f].src,t.currentTime=0,l.textContent=e[f].duration,m.textContent=e[f].title,n.classList.contains("item-active")?(g=!1,t.pause()):(g=!0,t.play()),y()})))),n.addEventListener("click",(function(){g?(t.pause(),g=!1):(t.play(),g=!0),y()})),o.addEventListener("click",p),c.addEventListener("click",(function(){f>0?f--:f=e.length-1,v()})),r.addEventListener("click",(function(){t.muted?(t.muted=!1,d.value=.5,t.volume=d.value,w(),console.log(t.volume)):(t.muted=!0,d.value=0,w())}));let L=!1;s.addEventListener("click",S),s.addEventListener("mousemove",(e=>L&&S(e))),s.addEventListener("mousedown",(()=>L=!0)),s.addEventListener("mouseup",(()=>L=!1)),t.addEventListener("timeupdate",(function(){const e=Math.floor(t.currentTime)/Math.floor(t.duration)*100;i.style.width=`${e}%`,u.textContent=function(e){e=Math.floor(e);var t=Math.floor(e/60),n=Math.floor(e-60*t),o=t,c=n;return t<10&&(o="0"+t),n<10&&(c="0"+n),o+":"+c}(t.currentTime)})),d.addEventListener("input",(function(){const e=d.value;t.volume=e,0===t.volume?t.muted=!0:t.muted=!1,w()})),t.addEventListener("volumechange",(function(){t.muted||0===t.volume?r.classList.add("mute"):r.classList.remove("mute")})),t.addEventListener("ended",p)}()})()})();